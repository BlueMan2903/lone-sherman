/* src/game/components/Unit/Unit.module.css */

.unitContainer {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none; /* Initially, so units don't block hex clicks. Change later for unit selection. */
  z-index: 10; /* Ensure units are above hexes */
  /* transition: transform 0.2s ease-out; /* This transition is for the container, remove if only image rotates */
}

.unitImage {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: transform 0.3s ease-out;
  transform: rotate(var(--rotation-angle, 0deg)); /* Use custom property */
}

.unitContainer.targeting {
  pointer-events: auto; /* Enable clicks */
  cursor: crosshair;
}

/* This is the style for the tank sprite itself when destroyed */
.unitContainer.destroyed .unitImage {
  filter: grayscale(80%) brightness(60%);
  transform: rotate(var(--rotation-angle, 0deg)) skewX(-10deg) translateY(5px);
}

/* This is for the explosion animation spritesheet */
.explosionEffect {
  position: absolute;
  width: 75px; /* Making the effect larger than the unit */
  height: 75px;
  top: 20%;
  left: 50%;
  transform: translate(-50%, -50%); /* Center the explosion on the unit */
  background-repeat: no-repeat;
  background-size: contain; /* Ensure the GIF fits within the container */
  z-index: 12;
}

/* This makes the explosion visible when the unit is destroyed */
.unitContainer.destroyed .explosionEffect {
  opacity: 1;
}

/* The keyframes to play the explosion */
/* No keyframes needed for GIF */